---
title: 炎上案件に遭遇した件
date: 2020-10-11T11:25:34.718Z
thumbnail: img/post/jiko_syouka_stove.png
tags:
  - チーム開発
  - プロジェクト管理
  - 失敗談
  - PM
isOpen: false
description: この記事では、どうして案件が炎上したか、どう対処すればよかったかについて、過去を振り返って書いていきたいと思います。このような状況は、どのような現場でも起こりえます。当時参加したプロジェクトを批判しているわけではありません。失敗の原因を分析し、対処法をまとめ、多くのアプリ開発関係者へ知見を広げることで多くの開発現場でこの状況に巻き込まないことを目的としています。
---
## 参加した当初の状況

僕が参加したときの状況はこういった状況でした。

* 某 W のような就活支援アプリを作ること
* アプリの製作期間はおおよそ 1 か月ほどを予定していた
* ウォーターフロー型開発で進められた
* 開発体制は、それまで情報系の学生 2 人体制で行われていた。
* 1 か月かけても全く開発が終了せず、気づいたらもう 6 か月目に到達していた
* 開発陣の 2 人の学生のうち、仕様を考えていた責任者が連絡なしに蒸発した

という状態でした、

## 案件が炎上してしまった原因



![pc-on-fire](img/post/computer_internet_enjou.png)

この企画が炎上した要因には次のようなものがあったと考えています。

### 計画段階での問題

#### アプリの設計をしっかりと話し合わずに技術者に任せきりにしたこと


![assist-ai](img/post/ai_shigoto_makaseru.png)



このアプリの設計において与えられた仕様について、企画をする人間がエンジニアに対して任せっきりだったように思います。　今回の場合では、「某 W のような就活支援アプリ」という漠然としたもので、そのアプリに寄せようとした結果、

* 学生側が、様々な企業の一覧を見れるページ
* 学生側が、特定の企業を詳細に見れるページ
* 会社側が、興味持ってくれた学生を一覧で見れるページ
* 会社側が、学生の詳細を知ることができるページ
* DM で企業と会社とがやり取りをするページ
* 会社、学生を登録するページ　 ...etc

と作成しないとならないページが増大してしまいました。もっと計画段階で話し合いが行われれば、どこかの機能を捨てて、後日追加で実装できたのではないかと思います。
開発体制がウォーターフロー型で進めてしまったこと

今回の開発体制が仕様の決定、開発、テストを逐次的に進めていくウォーターフロー型の体制で進めてしまったことにあります。こちらの開発は、主に大規模かつインフラといった失敗が許されないような開発（金融システムやインフラ回りなど）の開発に最適です。しかし、開発が小規模かつアプリを早く完成させる場合、仕様の設計、開発、テストを一気に作るアジャイル型開発が最適です。このような選択ミスは開発をしていて、いつ完成するかがわからずモチベーションを下げる結果に至りました。

#### 実装したいものに対して対応する開発人数が圧倒的に少なすぎる

![programmer-man](img/post/computer_man3_cry.png )



今回のアプリの開発は圧倒的に人数が少なすぎたことも大きな失敗だったと思います。新規アプリ開発を 1,2 か月でローンチするのであれば、最低 5 人以上が必要です。開発サイドに 2 人、とりわけ学生であれば、大学の授業やテストで参加できず、遅延することも考慮できてなかったこと問題だったと思います。

### 実装段階での問題

続いて、開発陣営に対して問題だったことをまとめてみたいと思います。
ドキュメントや TODO 管理ができていなかった

![read-doc](img/post/setsumeisyo_woman.png "read-doc")

チームで新規に入った際、コードを一通りみてコードの仕様を理解するのに、コードの量が多ければ多いほど理解するのに時間がかかります。業務用のコードであれば、およそ 2 週間～1 か月かけてやっと全体像ができると思います。さらに、現在どこが完成して未完成なのかもはっきりしていませんでした。こういったドキュメントづくりや TODO を整理することは、新規に入ってくるエンジニアだけでなく、現在かかわっているエンジニアの業務を把握するのに役立ちます。
テンプレートのコンポーネントツールを使用しなかった

React のアプリを開発するにあたり、ボタンや入力部分などを BootStrap や Material UI といった既存のフレームワークで構築せず、自前で構築したことにも問題だったと思います。開発人数が少なければデザインを 1 から設計することよりも完成することを目指し、既存のフレームワークを用いて素早く実装すべきでした。

#### テストコードを全く書かなかった


![checklist](img/post/clipboard4_check.png "checklist")

このアプリを今後運用するにあたって、テストコードを書かなかったことも問題でした。テストコードを書くことで、アプリのリファクタリングを行った後も、アプリが正常に動くかどうかを調べながら修正をできます。しかし、コードよりもアプリの実装の完成を優先させてしまい、リファクタリングを行うたびにアプリが動かなくなることが何度もありました。それにより、開発により多くの時間をかけてしまったように思います。
さらに、このテストを書く習慣は、アプリを作り始めたその時から書き始めたほうがいいです。その時に書かれたコードをもとに、ほかのエンジニアがテストコードのサンプルとして参考できますす。それにより、チーム全体にテストコードを書くことを習慣づけることができたのではないかと思います。

## 案件対してにいかに対処したか

先ほど上げた原因に対して、今僕ができることを中心に対処していきました。
初めに、以下の 3 つを中心にアプリを完成させることを第一に行いました。
TODO 管理やドキュメントを一度総整理した
重複した関数やコンポーネントを積極的に共通化した
アプリを完成させ次第、以下の課題に対処することをしていくことにしました。
テストコードの実装を開始した
後回しにしていた部分の実装を始めた
炎上案件に遭遇してしまった場合

このような場合、エンジニアとしてもっとも最適な行動は、「すぐ早くその現場から離れること」です。
そもそも、アプリ開発が炎上するということは、アプリ開発の体制に致命的な欠陥が生じているということです。このような現場に遭遇したらいちはやくやめたほうが最善です。


![running-boy](img/post/ikanoosushi4_sugunigeru.png "running-boy")

## 炎上案件を防ぐには

こういったことを防ぐには、以下の 3 つを特に気を付けたほうがいいと思います。

* 設計段階でどういったものを作りたいかをいつでも見直せるように共有すること
* 実装するものについて、優先順位をはっきりさせること
* タスクの進捗度合いを確認できるようにすること

![fire-fighter](img/post/figure_shouka.png "fire-fighter")

この 3 つを守るだけでもある程度の炎上を予防できます。
さらに、プログラミングに対しては、次のポイントに気を付けてもらったほうがいいです。
チーム開発には、「チーム開発をしたことがある人」が最低一人は必要
プログラミング初心者に仕様定義を決めさせないこと
ドキュメントや TODO をしっかり残すこと
テストコード、CI/CD は初期段階で実装すべき
この 4 つは特にチーム開発において特に重要となっていきます。とりわけ、チーム開発の経験があるかないかで大きな差が出てくると思います。
チーム開発においては、一番プログラミングができる人がすべてを片付けるのではなく、プログラミングができない人にどういったことをすべきかを伝えながら開発を進める必要があります。そのために、ディレクトリの管理方法やテストコード、CI/CD をしっかりと定義してみんなが進められるようにすることが大切です。

### 最後に

努力の甲斐あって、無事にアプリの α版が　リリースされました。しかし、様々な理由でこのサービスは中断しました。

アプリのサービス終了時、企画した人から**「今までできないことをできると言われ、騙された」**と Slack でつぶやいていたことを鮮明に覚えています。

関わったタスクがこのような形で終わったことは非常に残念だと思いますが、そもそもこの炎上した企画をひたすら一生懸命解決することに尽力した開発陣営からすれば失礼な発言であり、後味が悪いものでした。

### 経営者、PM に対して

![manager-woman](img/post/manager_woman.png "manager-woman")


アプリサービスを導入するにあたって、要件定義をしっかりと定義することが必要です。 これにはプログラマーとの連携が必須で、要件が漠然としたものであったり、検討不足なまま開発に任せきりにした場合、品質の低下、開発や運用コストの増加が発生します。受注者に開発にかかわる判断や責任を押し付けないことが大切です。

### プログラマーに対して

![programmer-kid](img/post/kid_job_boy_programmer)

アプリを開発するにあたって、アプリの開発を妨げない設計は非常に大事だと考えています。
ベンチャーのような現場において、以下のスライドに書かれていることは、炎上案件にかかわればかかわるほど非常に納得できる内容でした。

<div class="bcard-wrapper"><span class="bcard-header withgfav"><div class="bcard-favicon" style="background-image: url(https://www.google.com/s2/favicons?domain=https://speakerdeck.com/twada/quality-and-speed-2020-spring-edition)"></div><div class="bcard-site"><a href="https://speakerdeck.com/twada/quality-and-speed-2020-spring-edition" rel="nofollow" target="_blank">Speaker Deck</a></div><div class="bcard-url"><a href="https://speakerdeck.com/twada/quality-and-speed-2020-spring-edition" rel="nofollow" target="_blank">https://speakerdeck.com/twada/quality-and-speed-2020-spring-edition</a></div></span><span class="bcard-main withogimg"><div class="bcard-title"><a href="https://speakerdeck.com/twada/quality-and-speed-2020-spring-edition" rel="nofollow" target="_blank">質とスピード（2020春版） / Quality and Speed 2020 Spring Edition</a></div><div class="bcard-description">質とスピード（2020春版）
2020/02/13 @ デブサミ2020
</div><a href="https://speakerdeck.com/twada/quality-and-speed-2020-spring-edition" rel="nofollow" target="_blank"><div class="bcard-img" style="background-image: url(https://files.speakerdeck.com/presentations/2de4c404a69b4bcf97650a00c66b748f/slide_0.jpg?602849)"></div></a></span></div>

コードの品質管理やテスト、CI/CD　の環境が整っていない状態では、コードの中を理解することや機能の追加に幾度となく追われ、コードを修復する時間は全くありません。開発段階からきれいな設計やコードを書くことが求められます。チームで開発する人はリファクタリングやクリーンコードを書く技術を身に着けましょう。
チーム開発にかかわる人はぜひ、上記のスライドは読んだほうがいいと思います。